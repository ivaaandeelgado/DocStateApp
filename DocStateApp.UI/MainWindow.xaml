<Window x:Class="DocStateApp.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DocStateApp.UI"
        mc:Ignorable="d"
        Title="Gestión de documentos"
        Height="800"
        Width="1200"
        WindowStartupLocation="CenterScreen"
        WindowStyle="ToolWindow"
        ResizeMode="NoResize">

    <Window.Resources>

        <!-- Tarjeta reutilizable para Items -->
        <DataTemplate x:Key="CardTemplate">
            <Border Background="White"
                Margin="0,0,0,10"
                Padding="12"
                CornerRadius="8"
                BorderBrush="#DDD"
                BorderThickness="1"
                SnapsToDevicePixels="True">

                <StackPanel>
                    <!-- ID del Ticket -->
                    <TextBlock Text="{Binding Id}"
                           FontWeight="Bold"
                           FontSize="14"
                           Foreground="#333"/>

                    <!-- Usuario -->
                    <TextBlock Text="{Binding EmailUsuario}"
                           Margin="0,2,0,0"
                           FontSize="12"
                           Foreground="#666"/>

                    <!-- Descripción -->
                    <TextBlock Text="{Binding Descripcion}"
                           Margin="0,5,0,0"
                           TextWrapping="Wrap"
                           FontSize="12"/>

                    <!-- Nombre del archivo -->
                    <TextBlock Text="{Binding NombreArchivo}"
                           Margin="0,5,0,0"
                           FontStyle="Italic"
                           FontSize="11"
                           Foreground="#777"/>

                </StackPanel>

            </Border>
        </DataTemplate>

    </Window.Resources>


    <DockPanel LastChildFill="True">

		<StackPanel DockPanel.Dock="Left" Width="60" Background="#FF2D2D30">
			<!-- Icono de ajustes en la parte inferior -->
			<StackPanel VerticalAlignment="Bottom" Margin="0,0,0,20" >
				<Button Content="⚙" Width="40" Height="40"/>
			</StackPanel>
		</StackPanel>

		<DockPanel>

			<!-- Header superior -->
			<Border DockPanel.Dock="Top" Background="#FF007ACC" Height="50">
				<TextBlock Text="Gestión de documentos" Foreground="White" FontSize="20"
                           VerticalAlignment="Center" HorizontalAlignment="Center"/>
			</Border>

			<!-- Contenedor de columnas -->
			<Grid Background="#FFE5E5E5">
				<Grid.RowDefinitions>
					<RowDefinition Height="*" />
					<!-- Contenido principal -->
					<RowDefinition Height="100" />
					<!-- Footer fijo de 60px -->
				</Grid.RowDefinitions>


				<Grid Grid.Row="0">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="*"/>
					</Grid.ColumnDefinitions>

					<!-- Columna To Do -->
					<Border Grid.Column="0"
					Margin="5"
					BorderBrush="DarkGray"
					BorderThickness="2"
					CornerRadius="5"
					Background="#FFF9F9F9">
						<StackPanel Grid.Column="0" Margin="10">
							<TextBlock Text="To Do" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <ItemsControl ItemsSource="{Binding ToDo}">
                                <ItemsControl.ItemTemplate>
                                    <StaticResource ResourceKey="CardTemplate" />
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
					</Border>

					<!-- Columna In Progress -->

					<Border Grid.Column="1"
						Margin="5"
						BorderBrush="DarkGray"
						BorderThickness="2"
						CornerRadius="5"
						Background="#FFF9F9F9">
						<StackPanel Grid.Column="1" Margin="10">
							<TextBlock Text="In Progress" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <ItemsControl ItemsSource="{Binding Doing}">
                                <ItemsControl.ItemTemplate>
                                    <StaticResource ResourceKey="CardTemplate" />
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
					</Border>


					<!-- Columna Review -->


					<Border Grid.Column="2"
					Margin="5"
					BorderBrush="DarkGray"
					BorderThickness="2"
					CornerRadius="5"
					Background="#FFF9F9F9">
						<StackPanel Grid.Column="2" Margin="10">
							<TextBlock Text="Review" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <ItemsControl ItemsSource="{Binding Done}">
                                <ItemsControl.ItemTemplate>
                                    <StaticResource ResourceKey="CardTemplate" />
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
					</Border>

					<!-- Columna Done -->

					<Border Grid.Column="3"
					Margin="5"
					BorderBrush="DarkGray"
					BorderThickness="2"
					CornerRadius="5"
					Background="#FFF9F9F9">
						<StackPanel Grid.Column="3" Margin="10">
							<TextBlock Text="Historial" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <ItemsControl ItemsSource="{Binding Historial}">
                                <ItemsControl.ItemTemplate>
                                    <StaticResource ResourceKey="CardTemplate" />
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
					</Border>

				</Grid>
				<Grid Grid.Row="1">
					<Border Grid.Column="0"
						Margin="5"
						BorderBrush="DarkGray"
						BorderThickness="2"
						CornerRadius="5"
						Background="#FFF9F9F9">
						<StackPanel Margin="10" Orientation="Horizontal">
							
							<Button Content="Introduce la ruta del directorio para organizar" 
									 Height="30" Margin="50,10,0,0"
                                    Command="{Binding DialogCommand}"
                                    />

							<TextBox Width="400" Height="30" Margin="10,10,10,0"
									 Text="{Binding RutaDirectorio}"/>

							<Button Content="Analizar Documentos" Width="150" Height="50"
									Command="{Binding AnalizeCommand}"/>

						</StackPanel>
					</Border>

				</Grid>
			</Grid>

		</DockPanel>
		
	</DockPanel>



		
</Window>
